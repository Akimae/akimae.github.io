{"title":"40-client（可视区）相关属性","slug":"JavaScript/40-client（可视区）相关属性","date":"2023-02-16T07:30:25.425Z","updated":"2023-02-16T07:54:46.077Z","comments":true,"path":"api/articles/JavaScript/40-client（可视区）相关属性.json","photos":[],"link":"","excerpt":null,"covers":["http://img.smyhvae.com/20180203_2155.png"],"content":"<p><ArticleTopAd></ArticleTopAd></p>\n<h2 id=\"client-家族的组成\"><a href=\"#client-家族的组成\" class=\"headerlink\" title=\"client 家族的组成\"></a>client 家族的组成</h2><h3 id=\"clientWidth-和-clientHeight\"><a href=\"#clientWidth-和-clientHeight\" class=\"headerlink\" title=\"clientWidth 和 clientHeight\"></a>clientWidth 和 clientHeight</h3><p>元素调用时：</p>\n<ul>\n<li><p>clientWidth：获取元素的可见宽度（width + padding）。</p>\n</li>\n<li><p>clientHeight：获取元素的可见高度（height + padding）。</p>\n</li>\n</ul>\n<p>body&#x2F;html 调用时：</p>\n<ul>\n<li><p>clientWidth：获取网页可视区域宽度。</p>\n</li>\n<li><p>clientHeight：获取网页可视区域高度。</p>\n</li>\n</ul>\n<p><strong>声明</strong>：</p>\n<ul>\n<li><p><code>clientWidth</code> 和 <code>clientHeight</code> 属性是只读的，不可修改。</p>\n</li>\n<li><p><code>clientWidth</code> 和 <code>clientHeight</code> 的值都是不带 px 的，返回的都是一个数字，可以直接进行计算。</p>\n</li>\n</ul>\n<h3 id=\"clientX-和-clientY\"><a href=\"#clientX-和-clientY\" class=\"headerlink\" title=\"clientX 和 clientY\"></a>clientX 和 clientY</h3><p>event调用：</p>\n<ul>\n<li><p>clientX：鼠标距离可视区域左侧距离。</p>\n</li>\n<li><p>clientY：鼠标距离可视区域上侧距离。</p>\n</li>\n</ul>\n<h3 id=\"clientTop-和-clientLeft\"><a href=\"#clientTop-和-clientLeft\" class=\"headerlink\" title=\"clientTop 和 clientLeft\"></a>clientTop 和 clientLeft</h3><ul>\n<li><p>clientTop：盒子的上border。</p>\n</li>\n<li><p>clientLeft：盒子的左border。</p>\n</li>\n</ul>\n<h2 id=\"三大家族-offset-x2F-scroll-x2F-client-的区别\"><a href=\"#三大家族-offset-x2F-scroll-x2F-client-的区别\" class=\"headerlink\" title=\"三大家族 offset&#x2F;scroll&#x2F;client 的区别\"></a>三大家族 offset&#x2F;scroll&#x2F;client 的区别</h2><h3 id=\"区别1：宽高\"><a href=\"#区别1：宽高\" class=\"headerlink\" title=\"区别1：宽高\"></a>区别1：宽高</h3><ul>\n<li><p>offsetWidth  &#x3D; width  + padding + border</p>\n</li>\n<li><p>offsetHeight &#x3D; height + padding + border</p>\n</li>\n<li><p>scrollWidth   &#x3D; 内容宽度（不包含border）</p>\n</li>\n<li><p>scrollHeight  &#x3D; 内容高度（不包含border）</p>\n</li>\n<li><p>clientWidth  &#x3D; width  + padding</p>\n</li>\n<li><p>clientHeight &#x3D; height + padding</p>\n</li>\n</ul>\n<h3 id=\"区别2：上左\"><a href=\"#区别2：上左\" class=\"headerlink\" title=\"区别2：上左\"></a>区别2：上左</h3><p>offsetTop&#x2F;offsetLeft：</p>\n<ul>\n<li>调用者：任意元素。(盒子为主)</li>\n<li>作用：距离父系盒子中带有定位的距离。</li>\n</ul>\n<p>scrollTop&#x2F;scrollLeft：</p>\n<ul>\n<li>调用者：document.body.scrollTop（window调用）(盒子也可以调用，但必须有滚动条)</li>\n<li>作用：浏览器无法显示的部分（被卷去的部分）。</li>\n</ul>\n<p>clientY&#x2F;clientX：</p>\n<ul>\n<li>调用者：event</li>\n<li>作用：鼠标距离浏览器可视区域的距离（左、上）。</li>\n</ul>\n<h2 id=\"函数封装：获取浏览器的宽高（可视区域）\"><a href=\"#函数封装：获取浏览器的宽高（可视区域）\" class=\"headerlink\" title=\"函数封装：获取浏览器的宽高（可视区域）\"></a>函数封装：获取浏览器的宽高（可视区域）</h2><p>函数封装如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//函数封装：获取屏幕可视区域的宽高</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">client</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ie9及其以上的版本的写法</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"string\">&quot;width&quot;</span>: <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;height&quot;</span>: <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">compatMode</span> === <span class=\"string\">&quot;CSS1Compat&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//标准模式的写法（有DTD时）</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"string\">&quot;width&quot;</span>: <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientWidth</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;height&quot;</span>: <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//没有DTD时的写法</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"string\">&quot;width&quot;</span>: <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientWidth</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;height&quot;</span>: <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<p><strong>案例：根据浏览器的可视宽度，给定不同的背景的色。</strong></p>\n<blockquote>\n<p>PS：这个可以用来做响应式。</p>\n</blockquote>\n<p>代码如下：（需要用到上面的封装好的方法）</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;tools.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//需求：浏览器每次更改大小，判断是否符合某一标准然后给背景上色。</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//  // &gt;960红色，大于640小于960蓝色，小于640绿色。</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">window</span>.<span class=\"property\">onresize</span> = fn;  <span class=\"comment\">//页面大小发生变化时，执行该函数。</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//页面加载的时候直接执行一次函数，确定浏览器可视区域的宽，给背景上色</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">fn</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//封装成函数，然后指定的时候去调用和绑定函数名</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">if</span> (<span class=\"title function_\">client</span>().<span class=\"property\">width</span> &gt; <span class=\"number\">960</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&quot;red&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">client</span>().<span class=\"property\">width</span> &gt; <span class=\"number\">640</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&quot;blue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&quot;green&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>上当代码中，<code>window.onresize</code>事件指的是：在窗口或框架被调整大小时发生。各个事件的解释如下：</p>\n<ul>\n<li><p>window.onscroll        屏幕滑动</p>\n</li>\n<li><p>window.onresize       浏览器大小变化</p>\n</li>\n<li><p>window.onload\t        页面加载完毕</p>\n</li>\n<li><p>div.onmousemove    鼠标在盒子上移动（注意：不是盒子移动）</p>\n</li>\n</ul>\n<h2 id=\"获取显示器的分辨率\"><a href=\"#获取显示器的分辨率\" class=\"headerlink\" title=\"获取显示器的分辨率\"></a>获取显示器的分辨率</h2><p>比如，我的电脑的显示器分辨率是：1920*1080。</p>\n<p>获取显示器的分辨率：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onresize</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">title</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">width</span> + <span class=\"string\">&quot;    &quot;</span> + <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">height</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>显示效果：</p>\n<p><img src=\"http://img.smyhvae.com/20180203_2155.png\"></p>\n<p>上图中，不管我如何改变浏览器的窗口大小，title栏显示的值永远都是我的显示器分辨率：1920*1080。</p>\n","categories":[{"name":"JavaScript","slug":"JavaScript","count":46,"path":"api/categories/JavaScript.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":46,"path":"api/tags/JavaScript.json"}]}